<!DOCTYPE html>
<html>
<head>
  <title>Title</title>
</head>
<body>
  <h1>Examples</h1>
  <button id="playButton">Play</button>
  <div id="game">
    <button id="bingoButton">Bingo</button>
    <button id="pause">Pause</button>
    <button id="resume">Play</button>
    <div id="container">
      que saldra??
    </div>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script>

    const container = document.getElementById('container');
    const playButton = document.getElementById('playButton');
    const bingoButton = document.getElementById('bingoButton');
    const pause = document.getElementById('pause');
    const gameElement = document.getElementById('game');
    const resume = document.getElementById('resume');
    gameElement.style.visibility = 'hidden';
    let socket;
    playButton.addEventListener('click', () => {
      const username = prompt("What is your username?")
      const game = prompt("What is your game?")
      socket = io('http://localhost:4000', {
        query: {
          username,
          game,
        },
      });

      container.innerHTML = `User: ${username} <br>${container.innerHTML}`;

      socket.on('userConnected', dataFromServer => {
        console.log(dataFromServer);
        gameElement.style.visibility = 'visible';
        playButton.style.visibility = 'hidden';
      });

      socket.on('startGame', () => {
        console.log('startGame');
        socket.emit('draw');
      });

      socket.on('selected', (msg) => {
        console.log('selected', msg);
        container.innerHTML += `<br> ${msg.number}`;
      })
    })

    resume.addEventListener('click', () => {
      socket.emit('play');
    })

    pause.addEventListener('click', () => {
      socket.emit('stop');
    })

  </script>
</body>
</html>